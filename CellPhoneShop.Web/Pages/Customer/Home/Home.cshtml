@page
@model CellPhoneShop.Web.Pages.Customer.Home.HomeModel
@{
    ViewData["Title"] = "Trang chủ";
}

<!-- Nút Đăng nhập nếu chưa đăng nhập -->
@if (!User.Identity.IsAuthenticated)
{
    <div class="position-absolute top-0 end-0 p-3" style="z-index:1000;">
        <a href="/Auth/Login" class="btn btn-outline-primary px-4 py-2 fw-bold" style="border-radius:22px;box-shadow:0 2px 8px rgba(108,99,255,0.08);font-size:1.08rem;">Đăng nhập</a>
    </div>
}

<!-- Banner lớn nổi bật -->
<section class="hero-section-home d-flex align-items-center justify-content-center text-center mb-5" style="background: linear-gradient(90deg, #6c63ff 60%, #fff 100%); min-height: 340px;">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-7 text-white">
                <h1 class="display-4 fw-bold mb-3">Khám phá thế giới <span style="color:#ffd700;">điện thoại</span> chính hãng</h1>
                <p class="lead mb-4">Sản phẩm mới nhất, giá tốt nhất, dịch vụ tận tâm nhất tại CellPhoneShop!</p>
                <a href="/Customer/Product/Product" class="btn btn-lg px-4" style="background:#ffd700;color:#6c63ff;font-weight:600;border-radius:24px;">Xem sản phẩm</a>
            </div>
            <div class="col-md-5 d-none d-md-block">
                <img src="/images/banner/banner1.jpg" alt="Banner" class="img-fluid rounded-4 shadow-lg" style="max-height:260px;">
            </div>
        </div>
    </div>
</section>

@await Html.PartialAsync("~/Pages/Shared/_BrandShowcase.cshtml")
@await Html.PartialAsync("~/Pages/Shared/_FeaturedProducts.cshtml")

<!-- Lý do chọn CellPhoneShop -->
<section class="why-choose-us-home py-5 bg-light mb-5">
    <div class="container">
        <h2 class="section-title-home text-center mb-4">Vì sao chọn CellPhoneShop?</h2>
        <div class="row g-4 justify-content-center">
            <div class="col-6 col-md-3 text-center">
                <i class="fa-solid fa-truck-fast fa-2x mb-2" style="color:#6c63ff;"></i>
                <div class="fw-bold">Giao hàng siêu tốc</div>
                <div class="text-muted small">Toàn quốc, chỉ 1-2 ngày</div>
            </div>
            <div class="col-6 col-md-3 text-center">
                <i class="fa-solid fa-shield-halved fa-2x mb-2" style="color:#6c63ff;"></i>
                <div class="fw-bold">Bảo hành chính hãng</div>
                <div class="text-muted small">Đổi trả dễ dàng, hỗ trợ tận nơi</div>
            </div>
            <div class="col-6 col-md-3 text-center">
                <i class="fa-solid fa-headset fa-2x mb-2" style="color:#6c63ff;"></i>
                <div class="fw-bold">Hỗ trợ 24/7</div>
                <div class="text-muted small">Tư vấn miễn phí, tận tâm</div>
            </div>
            <div class="col-6 col-md-3 text-center">
                <i class="fa-solid fa-gift fa-2x mb-2" style="color:#6c63ff;"></i>
                <div class="fw-bold">Ưu đãi hấp dẫn</div>
                <div class="text-muted small">Nhiều voucher, quà tặng</div>
            </div>
        </div>
    </div>
</section>

<!-- Feedback khách hàng -->
<section class="feedback-home mb-5">
    <div class="container">
        <h2 class="section-title-home text-center mb-4">Khách hàng nói gì về chúng tôi?</h2>
        <div class="row justify-content-center g-4">
            <div class="col-md-4">
                <div class="p-3 bg-white rounded-4 shadow-sm h-100">
                    <div class="d-flex align-items-center mb-2">
                        <img src="/images/person_1.jpg" alt="user1" class="rounded-circle me-2" style="width:44px;height:44px;object-fit:cover;">
                        <div>
                            <div class="fw-bold">Nguyễn Văn A</div>
                            <div class="text-muted small">Hà Nội</div>
                        </div>
                    </div>
                    <div class="fst-italic">"Shop giao hàng rất nhanh, sản phẩm chính hãng, tư vấn nhiệt tình. Sẽ ủng hộ lâu dài!"</div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="p-3 bg-white rounded-4 shadow-sm h-100">
                    <div class="d-flex align-items-center mb-2">
                        <img src="/images/person_2.jpg" alt="user2" class="rounded-circle me-2" style="width:44px;height:44px;object-fit:cover;">
                        <div>
                            <div class="fw-bold">Trần Thị B</div>
                            <div class="text-muted small">TP. HCM</div>
                        </div>
                    </div>
                    <div class="fst-italic">"Mua điện thoại ở đây rất yên tâm, giá tốt, nhiều khuyến mãi. Nhân viên hỗ trợ rất tốt."</div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="p-3 bg-white rounded-4 shadow-sm h-100">
                    <div class="d-flex align-items-center mb-2">
                        <img src="/images/person_3.jpg" alt="user3" class="rounded-circle me-2" style="width:44px;height:44px;object-fit:cover;">
                        <div>
                            <div class="fw-bold">Lê Văn C</div>
                            <div class="text-muted small">Đà Nẵng</div>
                        </div>
                    </div>
                    <div class="fst-italic">"Đặt hàng online rất tiện, nhận máy mới nguyên seal, đóng gói cẩn thận. Sẽ giới thiệu bạn bè!"</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Subscribe gọn gàng -->
<div class="container my-4">
    <div class="row justify-content-center">
        <div class="col-12 col-sm-10 col-md-7 col-lg-5">
            <form method="post" asp-page-handler="Subscribe" class="subscribe-form-compact p-3 shadow-sm rounded-3 bg-white position-relative">
                <div class="d-flex align-items-center mb-2">
                    <i class="fa-regular fa-envelope me-2" style="color:#6c63ff;font-size:1.2rem;"></i>
                    <label for="subscribeEmail" class="form-label mb-0" style="font-size:1.1rem;font-weight:500;color:#444;">Đăng ký nhận tin</label>
                </div>
                <div class="input-group">
                    <input type="email" name="email" id="subscribeEmail" class="form-control form-control-sm" placeholder="Nhập email..." required style="border-radius: 18px 0 0 18px; font-size:1rem;">
                    <button type="submit" class="btn btn-sm px-3" style="background:#6c63ff;color:#fff;border-radius:0 18px 18px 0;font-weight:500;">Gửi</button>
                </div>
                <div class="form-text mt-1" style="color:#888;font-size:0.93rem;">Nhận ưu đãi & tin mới từ CellPhoneShop.</div>
                @if (TempData["SubscribeMessage"] != null)
                {
                    <div class="alert alert-success py-2 px-3 mt-2 mb-0" style="font-size:0.98rem;">@TempData["SubscribeMessage"]</div>
                }
            </form>
        </div>
    </div>
</div>

<!-- Footer đẹp -->
<footer class="site-footer border-top mt-5 bg-white pt-4 pb-2">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <h5 class="fw-bold mb-3">CellPhoneShop</h5>
                <ul class="list-unstyled">
                    <li><i class="fa-solid fa-location-dot me-2"></i> 203 Fake St. Mountain View, San Francisco, USA</li>
                    <li><i class="fa-solid fa-phone me-2"></i> <a href="tel://0975489030">0975 489 030</a></li>
                    <li><i class="fa-solid fa-envelope me-2"></i> info@cellphoneshop.com</li>
                </ul>
            </div>
            <div class="col-lg-3 mb-4 mb-lg-0">
                <h6 class="fw-bold mb-3">Hỗ trợ khách hàng</h6>
                <ul class="list-unstyled">
                    <li><a href="#">Chính sách bảo hành</a></li>
                    <li><a href="#">Chính sách đổi trả</a></li>
                    <li><a href="#">Hướng dẫn mua hàng</a></li>
                </ul>
            </div>
            <div class="col-lg-3">
                <h6 class="fw-bold mb-3">Kết nối với chúng tôi</h6>
                <div class="d-flex gap-3">
                    <a href="#" class="text-primary"><i class="fa-brands fa-facebook fa-lg"></i></a>
                    <a href="#" class="text-danger"><i class="fa-brands fa-youtube fa-lg"></i></a>
                    <a href="#" class="text-info"><i class="fa-brands fa-twitter fa-lg"></i></a>
                    <a href="#" class="text-success"><i class="fa-brands fa-tiktok fa-lg"></i></a>
                </div>
            </div>
        </div>
        <div class="row pt-3 mt-3 text-center border-top">
            <div class="col-12">
                <p class="mb-0 small">Copyright &copy;@DateTime.Now.Year CellPhoneShop. All rights reserved.</p>
            </div>
        </div>
    </div>
</footer>

<!-- CSS bổ sung cho Home đẹp hơn -->
<style>
    .hero-section-home {
        background: linear-gradient(90deg, #6c63ff 60%, #fff 100%);
        min-height: 340px;
        border-radius: 0 0 32px 32px;
        box-shadow: 0 4px 24px rgba(108,99,255,0.08);
    }
    .brand-logo-home {
        max-height: 48px;
        filter: grayscale(0.2);
        transition: filter 0.2s, transform 0.2s;
    }
    .brand-logo-home:hover {
        filter: grayscale(0);
        transform: scale(1.08);
    }
    .section-title-home {
        font-size: 2rem;
        font-weight: 700;
        color: #6c63ff;
        letter-spacing: 0.5px;
    }
    .product-card-home {
        background: #fff;
        border-radius: 18px;
        box-shadow: 0 2px 8px rgba(108,99,255,0.06);
        transition: box-shadow 0.2s, transform 0.2s;
        min-height: 260px;
    }
    .product-card-home:hover {
        box-shadow: 0 8px 32px rgba(108,99,255,0.10);
        transform: translateY(-4px) scale(1.02);
    }
    .product-card-home .price-home {
        color: #6c63ff;
        font-size: 1.08rem;
        font-weight: bold;
    }
    .subscribe-form-compact {
        border: 1.5px solid #e0e0f7;
        max-width: 100%;
        min-width: 0;
        transition: box-shadow 0.2s, border-color 0.2s;
    }
    .subscribe-form-compact:focus-within {
        box-shadow: 0 2px 12px rgba(108,99,255,0.08);
        border-color: #6c63ff;
    }
    .subscribe-form-compact input:focus {
        box-shadow: none;
        border-color: #6c63ff;
    }
    .subscribe-form-compact button:hover {
        background: #574fd6;
    }
</style>
